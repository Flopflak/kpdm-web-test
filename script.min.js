document.getElementById("closePopUpButton").addEventListener("click",function(){c()}),document.getElementById("nextButton").addEventListener("click",function(){document.getElementsByClassName("slide")[e].scrollIntoView({behavior:"smooth",block:"start"}),e+=1,console.log(document.getElementsByClassName("slide").length),document.getElementById("nextButtonImg").style.transform="rotate(0deg)",document.getElementById("nextButton").style.paddingTop="10px",document.getElementById("nextButton").style.paddingBottom="0px",e==document.getElementsByClassName("slide").length&&(e=0,document.getElementById("nextButtonImg").style.transform="rotate(180deg)",document.getElementById("nextButton").style.paddingTop="0px")});let a=document.createDocumentFragment(),d=document.createDocumentFragment(),e=1;let o={i:e=>`<img class="popUpImage" src="images/${e}"></img>
`,l:e=>`<a href=${e.split("|")[1]}>${e.split("|")[0]}</a>`,b:e=>`<b>${e}</b>`};function t(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function i(e){return e.replace(/([a-z])\[(.+?)\]/g,(e,t,n)=>o[t]?o[t](n):e)}async function c(e){var t=document.getElementById("expandedPopUp");"none"!==t.style.display?t.style.display="none":(t.style.display="block",null!=e&&(jsonName="slideExpanded"+e+".json",data=await(async e=>(e="./slides/"+e,(e=await fetch(e,{cache:"no-store"})).ok?(e=await e.json(),console.log("Fetched!"),e):null))(jsonName)),data.text=i(data.text),t.children[1].textContent=data.title,t.children[2].innerHTML=data.text)}l=10,n=7,(n=Array.from({length:n},(e,t)=>t+1)).sort(()=>Math.random()-.5);var n,l,s,r,m=n.slice(0,l);async function u(e,t){e="./slides/"+e;try{var n,o=await fetch(e,{cache:"no-store"});if(o.ok)return n=await o.json(),a,d=((e,t,n)=>{[p,textContent,hasButtonLink,link,buttonText]=[t.title,t.text,t.hasButtonLink,t.link,t.buttonText];var t=document.createElement("img"),o=m[n-1],o=(t.src="images/"+o+".jpg",t.className="imageDivider",t.alt="Fotografie z fotogalerie KDPM",document.createElement("h1")),a=document.createTextNode(p),l=(o.appendChild(a),(a=document.createElement("p")).innerHTML=i(textContent),document.createElement("div")),a=(l.className="slide",l.id=p.replace(/[^a-zA-Z0-9]/g,""),l.appendChild(o),l.appendChild(a),hasButtonLink&&(id=p.replace(/[^a-zA-Z0-9]/g,""),(o=document.createElement("button")).className="linkButton",o.addEventListener("click",function(){c(n)}),a=document.createTextNode(buttonText),o.appendChild(a),l.appendChild(o)),e.appendChild(t),e.appendChild(l),document.createElement("a")),o=document.createElement("button"),t=document.createTextNode(p);return o.className="linkButton",o.appendChild(t),a.href="#"+p.replace(/[^a-zA-Z0-9]/g,""),a.appendChild(o),d.appendChild(a),d})(a,n,t),200;throw new Error("Response status: "+o.status)}catch(e){return null}}let p;(async()=>{let e=0,t=1;if(null!=document.getElementById("holder")){for(;e<3;)null==await u(`slide${t}.json`,t)&&(e+=1),t+=1;document.getElementById("holder").appendChild(a),document.getElementById("menu").appendChild(d)}})();{let e=t("uid");e||(e=Date.now().toString(36)+Math.random().toString(36).substr(2),console.log("Generating..."),n="uid",l=e,s=3650,(r=new Date).setTime(r.getTime()+24*s*60*60*1e3),s="expires="+r.toUTCString(),document.cookie=n+"="+l+";"+s+";path=/"),e}console.log(t("uid"));