document.getElementById("closePopUpButton").addEventListener("click",function(){i()});let l=document.createDocumentFragment(),o=document.createDocumentFragment();let a={i:e=>`<img class="popUpImage" src="images/${e}"></img>
`,l:e=>`<a href=${e.split("|")[1]}>${e.split("|")[0]}</a>`,b:e=>`<b>${e}</b>`};function c(e){return e.replace(/([a-z])\[(.+?)\]/g,(e,t,n)=>a[t]?a[t](n):e)}async function i(e){var t=document.getElementById("expandedPopUp");"none"!==t.style.display?t.style.display="none":(t.style.display="block",null!=e&&(jsonName="slideExpanded"+e+".json",data=await(async e=>(e="./slides/"+e,(e=await fetch(e,{cache:"no-store"})).ok?(e=await e.json(),console.log("Fetched!"),e):null))(jsonName)),data.text=c(data.text),t.children[1].textContent=data.title,t.children[2].innerHTML=data.text)}e=10,t=7,(t=Array.from({length:t},(e,t)=>t+1)).sort(()=>Math.random()-.5);var e,t,r=t.slice(0,e);async function n(e,t){e="./slides/"+e;try{var n,a=await fetch(e,{cache:"no-store"});if(a.ok)return n=await a.json(),l,o=((e,t,n)=>{[s,textContent,hasButtonLink,link,buttonText]=[t.title,t.text,t.hasButtonLink,t.link,t.buttonText];var t=document.createElement("img"),a=r[n-1],a=(t.src="images/"+a+".jpg",t.className="imageDivider",t.alt="Fotografie z fotogalerie KDPM",document.createElement("h1")),l=document.createTextNode(s),d=(a.appendChild(l),(l=document.createElement("p")).innerHTML=c(textContent),document.createElement("div")),l=(d.className="slide",d.id=s.replace(/[^a-zA-Z0-9]/g,""),d.appendChild(a),d.appendChild(l),hasButtonLink&&(id=s.replace(/[^a-zA-Z0-9]/g,""),(a=document.createElement("button")).className="linkButton",a.addEventListener("click",function(){i(n)}),l=document.createTextNode(buttonText),a.appendChild(l),d.appendChild(a)),e.appendChild(t),e.appendChild(d),document.createElement("a")),a=document.createElement("button"),t=document.createTextNode(s);return a.className="linkButton",a.appendChild(t),l.href="#"+s.replace(/[^a-zA-Z0-9]/g,""),l.appendChild(a),o.appendChild(l),o})(l,n,t),200;throw new Error("Response status: "+a.status)}catch(e){return null}}let s;(async()=>{let e=0,t=1;if(null!=document.getElementById("holder")){for(;e<3;)null==await n(`slide${t}.json`,t)&&(e+=1),t+=1;document.getElementById("holder").appendChild(l),document.getElementById("menu").appendChild(o)}})();